[{"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427616006", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-427616006", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 427616006, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzYxNjAwNg==", "user": {"login": "rust-highfive", "id": 7378925, "node_id": "MDQ6VXNlcjczNzg5MjU=", "avatar_url": "https://avatars3.githubusercontent.com/u/7378925?v=4", "gravatar_id": "", "url": "https://api.github.com/users/rust-highfive", "html_url": "https://github.com/rust-highfive", "followers_url": "https://api.github.com/users/rust-highfive/followers", "following_url": "https://api.github.com/users/rust-highfive/following{/other_user}", "gists_url": "https://api.github.com/users/rust-highfive/gists{/gist_id}", "starred_url": "https://api.github.com/users/rust-highfive/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/rust-highfive/subscriptions", "organizations_url": "https://api.github.com/users/rust-highfive/orgs", "repos_url": "https://api.github.com/users/rust-highfive/repos", "events_url": "https://api.github.com/users/rust-highfive/events{/privacy}", "received_events_url": "https://api.github.com/users/rust-highfive/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-07T00:27:30Z", "updated_at": "2018-10-07T00:27:30Z", "author_association": "NONE", "body": "r? @matklad\n\n(rust_highfive has picked a reviewer for you, use r? to override)"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427903347", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-427903347", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 427903347, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzkwMzM0Nw==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T16:45:19Z", "updated_at": "2018-10-08T16:45:19Z", "author_association": "MEMBER", "body": "Thanks for the PR! I'm not really sure what the best way is to handle this though. These types of checks are left to be server-side on crates.io intentionally so crates.io can curate packages as necessary (and allow for different behavior across different registries). I'm wary about duplicating this sort of work across multiple locations, and if we want this to be a guarantee on crates.io we *must* implement it in on crates.io at least.\r\n\r\nTo that end I definitely agree that it's not great that `--dry-run` doesn't perform 100% of the checks of `cargo publish`, but I'm not sure it ever realistically can as crates.io can tweak various heuristics over time"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427906230", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-427906230", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 427906230, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzkwNjIzMA==", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T16:54:46Z", "updated_at": "2018-10-08T16:54:46Z", "author_association": "MEMBER", "body": "One option could be to add a dry-run API to crates.io itself - the crate is still uploaded but crates.io only runs its checks and doesn't actually commit the publish."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427949172", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-427949172", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 427949172, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzk0OTE3Mg==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T19:17:39Z", "updated_at": "2018-10-08T19:17:39Z", "author_association": "MEMBER", "body": "That sounds like a great idea to me!"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/429482930", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-429482930", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 429482930, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTQ4MjkzMA==", "user": {"login": "joelgallant", "id": 1429994, "node_id": "MDQ6VXNlcjE0Mjk5OTQ=", "avatar_url": "https://avatars3.githubusercontent.com/u/1429994?v=4", "gravatar_id": "", "url": "https://api.github.com/users/joelgallant", "html_url": "https://github.com/joelgallant", "followers_url": "https://api.github.com/users/joelgallant/followers", "following_url": "https://api.github.com/users/joelgallant/following{/other_user}", "gists_url": "https://api.github.com/users/joelgallant/gists{/gist_id}", "starred_url": "https://api.github.com/users/joelgallant/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/joelgallant/subscriptions", "organizations_url": "https://api.github.com/users/joelgallant/orgs", "repos_url": "https://api.github.com/users/joelgallant/repos", "events_url": "https://api.github.com/users/joelgallant/events{/privacy}", "received_events_url": "https://api.github.com/users/joelgallant/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-12T22:48:27Z", "updated_at": "2018-10-12T22:48:27Z", "author_association": "CONTRIBUTOR", "body": "Note that @sgrif has opened https://github.com/rust-lang/crates.io/pull/1517, so once that lands this would be doable via hitting the API with `dry_run=1` instead."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/429498984", "html_url": "https://github.com/rust-lang/cargo/pull/6150#issuecomment-429498984", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6150", "id": 429498984, "node_id": "MDEyOklzc3VlQ29tbWVudDQyOTQ5ODk4NA==", "user": {"login": "sgrif", "id": 1529387, "node_id": "MDQ6VXNlcjE1MjkzODc=", "avatar_url": "https://avatars2.githubusercontent.com/u/1529387?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sgrif", "html_url": "https://github.com/sgrif", "followers_url": "https://api.github.com/users/sgrif/followers", "following_url": "https://api.github.com/users/sgrif/following{/other_user}", "gists_url": "https://api.github.com/users/sgrif/gists{/gist_id}", "starred_url": "https://api.github.com/users/sgrif/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sgrif/subscriptions", "organizations_url": "https://api.github.com/users/sgrif/orgs", "repos_url": "https://api.github.com/users/sgrif/repos", "events_url": "https://api.github.com/users/sgrif/events{/privacy}", "received_events_url": "https://api.github.com/users/sgrif/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-13T01:07:00Z", "updated_at": "2018-10-13T01:07:00Z", "author_association": "CONTRIBUTOR", "body": "If, not when :)"}]