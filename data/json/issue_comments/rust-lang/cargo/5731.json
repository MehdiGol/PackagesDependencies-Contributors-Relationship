[{"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/405359566", "html_url": "https://github.com/rust-lang/cargo/issues/5731#issuecomment-405359566", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/5731", "id": 405359566, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNTM1OTU2Ng==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-16T19:46:50Z", "updated_at": "2018-07-16T19:46:50Z", "author_association": "MEMBER", "body": "Thanks for the report! The final part of the error message:\r\n\r\n```\r\nCaused by:\r\n  error authenticating: no auth sock variable; class=Ssh (23)\r\n```\r\n\r\nmay mean that `ssh-agent` isn't set up or running perhaps? One thing `git` does which Cargo does not do is read `~/.ssh/config`, which has also caused problems in the past. Do you know if there's anything funny with `ssh-agent` though?"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/406434463", "html_url": "https://github.com/rust-lang/cargo/issues/5731#issuecomment-406434463", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/5731", "id": 406434463, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjQzNDQ2Mw==", "user": {"login": "orlandoc01", "id": 14842987, "node_id": "MDQ6VXNlcjE0ODQyOTg3", "avatar_url": "https://avatars2.githubusercontent.com/u/14842987?v=4", "gravatar_id": "", "url": "https://api.github.com/users/orlandoc01", "html_url": "https://github.com/orlandoc01", "followers_url": "https://api.github.com/users/orlandoc01/followers", "following_url": "https://api.github.com/users/orlandoc01/following{/other_user}", "gists_url": "https://api.github.com/users/orlandoc01/gists{/gist_id}", "starred_url": "https://api.github.com/users/orlandoc01/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/orlandoc01/subscriptions", "organizations_url": "https://api.github.com/users/orlandoc01/orgs", "repos_url": "https://api.github.com/users/orlandoc01/repos", "events_url": "https://api.github.com/users/orlandoc01/events{/privacy}", "received_events_url": "https://api.github.com/users/orlandoc01/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-19T22:32:20Z", "updated_at": "2018-07-19T22:32:58Z", "author_association": "NONE", "body": "I don't think so. I start the ssh agent in the build process by running `eval 'ssh-agent -s' `. Moreover, if something was wrong with it, I would expect the command `git clone ssh://git@github.com/myorg/private-repo.git` to not work but it succeeds if I run it as a build command before the `cargo build` step. This leads me to believe that its not the ssh-agent but some process in cargo which is the problem"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/406435234", "html_url": "https://github.com/rust-lang/cargo/issues/5731#issuecomment-406435234", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/5731", "id": 406435234, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjQzNTIzNA==", "user": {"login": "sfackler", "id": 1455697, "node_id": "MDQ6VXNlcjE0NTU2OTc=", "avatar_url": "https://avatars0.githubusercontent.com/u/1455697?v=4", "gravatar_id": "", "url": "https://api.github.com/users/sfackler", "html_url": "https://github.com/sfackler", "followers_url": "https://api.github.com/users/sfackler/followers", "following_url": "https://api.github.com/users/sfackler/following{/other_user}", "gists_url": "https://api.github.com/users/sfackler/gists{/gist_id}", "starred_url": "https://api.github.com/users/sfackler/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/sfackler/subscriptions", "organizations_url": "https://api.github.com/users/sfackler/orgs", "repos_url": "https://api.github.com/users/sfackler/repos", "events_url": "https://api.github.com/users/sfackler/events{/privacy}", "received_events_url": "https://api.github.com/users/sfackler/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-19T22:36:02Z", "updated_at": "2018-07-19T22:36:02Z", "author_association": "MEMBER", "body": "The command line `git` is able to directly load the private key without an ssh-agent, unlike the libgit2 library that cargo uses."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/406491977", "html_url": "https://github.com/rust-lang/cargo/issues/5731#issuecomment-406491977", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/5731", "id": 406491977, "node_id": "MDEyOklzc3VlQ29tbWVudDQwNjQ5MTk3Nw==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-07-20T05:19:59Z", "updated_at": "2018-07-20T05:19:59Z", "author_association": "MEMBER", "body": "Ah yeah as @sfackler mentioned just because `git` works doesn't necessarily mean that Cargo will work. The ssh-agent may be running fine (makes sense yeah) but for whatever reasons it sounds like libssh2 can't connect to it. Maybe an env var isn't set up for Cargo?"}]