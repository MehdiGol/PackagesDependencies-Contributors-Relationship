[{"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/424887193", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-424887193", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 424887193, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNDg4NzE5Mw==", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-26T22:14:27Z", "updated_at": "2018-09-26T22:14:27Z", "author_association": "CONTRIBUTOR", "body": "`clap` currently supports the ability to have a short/verbose help by using `-h` or `--help`.  See `ripgrep` as an example that makes extensive use of this.  Personally I don't find that very obvious (I usually assume those two flags are the same), but it could help.  Thoughts?\r\n\r\n`clap` 3.0 has some more options for controlling the help display.  `help_heading` can be used to aggregate related options (which would make the display longer, but would help separate unrelated options).  There's also [`display_order`](https://docs.rs/clap/2.32.0/clap/struct.Arg.html#method.display_order) which exists in 2.x.  \r\n\r\nI've been wanting to write more extensive documentation for each command, but I'm uncertain where it should live.  I fear putting it in the `--help` text would contribute to making it overwhelming.  However, putting it in the reference manual may make it hard to discover.  This documentation would discuss more about what the command actually does, what the default target/profile selections are, usage examples, etc.  \r\n"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/425236438", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-425236438", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 425236438, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTIzNjQzOA==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-27T20:45:29Z", "updated_at": "2018-09-27T20:45:29Z", "author_association": "MEMBER", "body": "I'm personally fond of `-h --verbose` vs `-h` like what rustc does, which meakse `-h` pretty usable by default and then we just dump everything else in `--verbose`. I would also be wary of differentiating between `-h` and `--help`, I would also expect them to be the same!\r\n\r\nFor more long-form documentation though I think using HTML docs is probably better, and I think we could also place urls to those documentation as well perhaps?"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/425297642", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-425297642", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 425297642, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNTI5NzY0Mg==", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-09-28T02:07:07Z", "updated_at": "2018-09-28T02:07:07Z", "author_association": "CONTRIBUTOR", "body": "> `-h --verbose` vs `-h`\r\n\r\nIt's a bit tricky to do that in clap, but it should be possible.  I can put together a prototype to see what it looks like."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/426582253", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-426582253", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 426582253, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjU4MjI1Mw==", "user": {"login": "Nemo157", "id": 81079, "node_id": "MDQ6VXNlcjgxMDc5", "avatar_url": "https://avatars1.githubusercontent.com/u/81079?v=4", "gravatar_id": "", "url": "https://api.github.com/users/Nemo157", "html_url": "https://github.com/Nemo157", "followers_url": "https://api.github.com/users/Nemo157/followers", "following_url": "https://api.github.com/users/Nemo157/following{/other_user}", "gists_url": "https://api.github.com/users/Nemo157/gists{/gist_id}", "starred_url": "https://api.github.com/users/Nemo157/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/Nemo157/subscriptions", "organizations_url": "https://api.github.com/users/Nemo157/orgs", "repos_url": "https://api.github.com/users/Nemo157/repos", "events_url": "https://api.github.com/users/Nemo157/events{/privacy}", "received_events_url": "https://api.github.com/users/Nemo157/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T10:13:48Z", "updated_at": "2018-10-03T10:14:14Z", "author_association": "CONTRIBUTOR", "body": "> For more long-form documentation though I think using HTML docs is probably better, and I think we could also place urls to those documentation as well perhaps?\r\n\r\nCould also include those files with the cargo install and support something like `--help --open` to open them in a browser."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/426683248", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-426683248", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 426683248, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjY4MzI0OA==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-03T15:35:30Z", "updated_at": "2018-10-03T15:35:30Z", "author_association": "MEMBER", "body": "Seems plausible to me!"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/426848883", "html_url": "https://github.com/rust-lang/cargo/issues/6104#issuecomment-426848883", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6104", "id": 426848883, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNjg0ODg4Mw==", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-04T00:44:12Z", "updated_at": "2018-10-04T00:44:12Z", "author_association": "CONTRIBUTOR", "body": "@joshtriplett Here is the option grouping support in clap v3: https://github.com/clap-rs/clap/blob/eaa0700e7ed76f37d245a6878deb3b8e81754d6c/src/build/app/mod.rs#L645-L651 and what it looks like: https://github.com/clap-rs/clap/blob/eaa0700e7ed76f37d245a6878deb3b8e81754d6c/tests/help.rs#L1395-L1416\r\n\r\nIt's not clear to me what's going on with clap 3.  It looks like there's a lot of good stuff, but there hasn't been much progress recently.\r\n\r\nI looked at implementing `-h --verbose`, but I hit a roadblock (clap-rs/clap#1350), and I don't think it is possible at this time.  We could hack in something (look at the args before clap parsing, and just print a hand-written document)."}]