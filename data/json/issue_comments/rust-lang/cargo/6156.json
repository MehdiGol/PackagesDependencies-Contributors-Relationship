[{"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427911374", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-427911374", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 427911374, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzkxMTM3NA==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T17:11:52Z", "updated_at": "2018-10-08T17:11:52Z", "author_association": "MEMBER", "body": "I'm not sure I understand the context for this issue, can you elaboate? All Cargo does is execute a binary, so are you saying Cargo shouldn't execute a binary?"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427914841", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-427914841", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 427914841, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzkxNDg0MQ==", "user": {"login": "lu-zero", "id": 239012, "node_id": "MDQ6VXNlcjIzOTAxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/239012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lu-zero", "html_url": "https://github.com/lu-zero", "followers_url": "https://api.github.com/users/lu-zero/followers", "following_url": "https://api.github.com/users/lu-zero/following{/other_user}", "gists_url": "https://api.github.com/users/lu-zero/gists{/gist_id}", "starred_url": "https://api.github.com/users/lu-zero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lu-zero/subscriptions", "organizations_url": "https://api.github.com/users/lu-zero/orgs", "repos_url": "https://api.github.com/users/lu-zero/repos", "events_url": "https://api.github.com/users/lu-zero/events{/privacy}", "received_events_url": "https://api.github.com/users/lu-zero/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T17:23:05Z", "updated_at": "2018-10-08T17:23:05Z", "author_association": "NONE", "body": "Assume you do\r\n```\r\n# cargo bench -- -s mybaseline\r\n```\r\n\r\nif there are tests and benchmarks in the crate `cargo` will run the test runner and the bench runner\r\n\r\nsome example (current [rav1e](https://github.com/xiph/rav1e)):\r\n```\r\ncargo bench -- -s newbase\r\n    Finished release [optimized] target(s) in 0.05s\r\n     Running target/release/deps/rav1e-d400d42c32908d29\r\nerror: Unrecognized option: 's'\r\nerror: bench failed\r\n```\r\n\r\n```\r\ncargo bench -- --help\r\n    Finished release [optimized] target(s) in 0.05s\r\n     Running target/release/deps/rav1e-d400d42c32908d29\r\nUsage: --help [OPTIONS] [FILTER]\r\n\r\nOptions:\r\n        --ignored       Run ignored tests\r\n        --test          Run tests and not benchmarks\r\n        --bench         Run benchmarks instead of tests\r\n<snip>\r\n\r\n     Running target/release/deps/rav1e-34abbf14cafc2f7c\r\nUsage: --help [OPTIONS] [FILTER]\r\n\r\nOptions:\r\n        --ignored       Run ignored tests\r\n\r\n<snip>\r\n\r\n     Running target/release/deps/bench-34ea4bfc7d854e31\r\nCriterion Benchmark\r\n\r\nUSAGE:\r\n    bench-34ea4bfc7d854e31 [FLAGS] [OPTIONS] [FILTER]\r\n\r\n<snip>\r\n```"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427949118", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-427949118", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 427949118, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzk0OTExOA==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T19:17:25Z", "updated_at": "2018-10-08T19:17:25Z", "author_association": "MEMBER", "body": "@lu-zero can you provide a standalone example? `harness = false` works locally for me."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/427956685", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-427956685", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 427956685, "node_id": "MDEyOklzc3VlQ29tbWVudDQyNzk1NjY4NQ==", "user": {"login": "lu-zero", "id": 239012, "node_id": "MDQ6VXNlcjIzOTAxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/239012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lu-zero", "html_url": "https://github.com/lu-zero", "followers_url": "https://api.github.com/users/lu-zero/followers", "following_url": "https://api.github.com/users/lu-zero/following{/other_user}", "gists_url": "https://api.github.com/users/lu-zero/gists{/gist_id}", "starred_url": "https://api.github.com/users/lu-zero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lu-zero/subscriptions", "organizations_url": "https://api.github.com/users/lu-zero/orgs", "repos_url": "https://api.github.com/users/lu-zero/repos", "events_url": "https://api.github.com/users/lu-zero/events{/privacy}", "received_events_url": "https://api.github.com/users/lu-zero/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-08T19:45:12Z", "updated_at": "2018-10-08T19:45:12Z", "author_association": "NONE", "body": "Sure, [here](https://github.com/lu-zero/testcase-benchmark) the minimal testcase"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/428070322", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-428070322", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 428070322, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODA3MDMyMg==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-09T06:00:01Z", "updated_at": "2018-10-09T06:00:01Z", "author_association": "MEMBER", "body": "@lu-zero I think you're seeing the benchmark for `src/lib.rs`, you'll want to say `bench = false` in the `[lib]` section."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/428187886", "html_url": "https://github.com/rust-lang/cargo/issues/6156#issuecomment-428187886", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6156", "id": 428187886, "node_id": "MDEyOklzc3VlQ29tbWVudDQyODE4Nzg4Ng==", "user": {"login": "lu-zero", "id": 239012, "node_id": "MDQ6VXNlcjIzOTAxMg==", "avatar_url": "https://avatars1.githubusercontent.com/u/239012?v=4", "gravatar_id": "", "url": "https://api.github.com/users/lu-zero", "html_url": "https://github.com/lu-zero", "followers_url": "https://api.github.com/users/lu-zero/followers", "following_url": "https://api.github.com/users/lu-zero/following{/other_user}", "gists_url": "https://api.github.com/users/lu-zero/gists{/gist_id}", "starred_url": "https://api.github.com/users/lu-zero/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/lu-zero/subscriptions", "organizations_url": "https://api.github.com/users/lu-zero/orgs", "repos_url": "https://api.github.com/users/lu-zero/repos", "events_url": "https://api.github.com/users/lu-zero/events{/privacy}", "received_events_url": "https://api.github.com/users/lu-zero/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-09T13:17:44Z", "updated_at": "2018-10-09T13:17:44Z", "author_association": "NONE", "body": "I had to sprinkle it around all the `[[bin]]` sections as well, but did the trick :)\r\n\r\nNow, could we make this the default behavior ?"}]