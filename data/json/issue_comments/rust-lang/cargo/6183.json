[{"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/431026451", "html_url": "https://github.com/rust-lang/cargo/issues/6183#issuecomment-431026451", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6183", "id": 431026451, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTAyNjQ1MQ==", "user": {"login": "alexcrichton", "id": 64996, "node_id": "MDQ6VXNlcjY0OTk2", "avatar_url": "https://avatars1.githubusercontent.com/u/64996?v=4", "gravatar_id": "", "url": "https://api.github.com/users/alexcrichton", "html_url": "https://github.com/alexcrichton", "followers_url": "https://api.github.com/users/alexcrichton/followers", "following_url": "https://api.github.com/users/alexcrichton/following{/other_user}", "gists_url": "https://api.github.com/users/alexcrichton/gists{/gist_id}", "starred_url": "https://api.github.com/users/alexcrichton/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/alexcrichton/subscriptions", "organizations_url": "https://api.github.com/users/alexcrichton/orgs", "repos_url": "https://api.github.com/users/alexcrichton/repos", "events_url": "https://api.github.com/users/alexcrichton/events{/privacy}", "received_events_url": "https://api.github.com/users/alexcrichton/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-18T14:17:10Z", "updated_at": "2018-10-18T14:17:10Z", "author_association": "MEMBER", "body": "Thanks for the report! Do you have a sample project which reproduces that we could poke around with? (having the full workspace configuration is convenient)"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/431236971", "html_url": "https://github.com/rust-lang/cargo/issues/6183#issuecomment-431236971", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6183", "id": 431236971, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTIzNjk3MQ==", "user": {"login": "zacps", "id": 9827696, "node_id": "MDQ6VXNlcjk4Mjc2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9827696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacps", "html_url": "https://github.com/zacps", "followers_url": "https://api.github.com/users/zacps/followers", "following_url": "https://api.github.com/users/zacps/following{/other_user}", "gists_url": "https://api.github.com/users/zacps/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacps/subscriptions", "organizations_url": "https://api.github.com/users/zacps/orgs", "repos_url": "https://api.github.com/users/zacps/repos", "events_url": "https://api.github.com/users/zacps/events{/privacy}", "received_events_url": "https://api.github.com/users/zacps/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-19T03:53:35Z", "updated_at": "2018-10-19T03:53:35Z", "author_association": "NONE", "body": "This should work as a minimal example.\r\n\r\nhttps://github.com/zacps/workspace_test"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/431240000", "html_url": "https://github.com/rust-lang/cargo/issues/6183#issuecomment-431240000", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6183", "id": 431240000, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTI0MDAwMA==", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-19T04:18:11Z", "updated_at": "2018-10-19T04:18:11Z", "author_association": "CONTRIBUTOR", "body": "@zacps I think the issue is that `subpackage` is not actually a member of the workspace. You can add `[workspace]` to your top-level `Cargo.toml` to turn your project into a workspace, and then `-p` should work.\r\n\r\nOtherwise, `cargo test -p somedep` doesn't work for arbitrary dependencies (this is similar to #5156 where `cargo test -p` for downstream dependencies doesn't work).\r\n"}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/431240802", "html_url": "https://github.com/rust-lang/cargo/issues/6183#issuecomment-431240802", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6183", "id": 431240802, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTI0MDgwMg==", "user": {"login": "zacps", "id": 9827696, "node_id": "MDQ6VXNlcjk4Mjc2OTY=", "avatar_url": "https://avatars3.githubusercontent.com/u/9827696?v=4", "gravatar_id": "", "url": "https://api.github.com/users/zacps", "html_url": "https://github.com/zacps", "followers_url": "https://api.github.com/users/zacps/followers", "following_url": "https://api.github.com/users/zacps/following{/other_user}", "gists_url": "https://api.github.com/users/zacps/gists{/gist_id}", "starred_url": "https://api.github.com/users/zacps/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/zacps/subscriptions", "organizations_url": "https://api.github.com/users/zacps/orgs", "repos_url": "https://api.github.com/users/zacps/repos", "events_url": "https://api.github.com/users/zacps/events{/privacy}", "received_events_url": "https://api.github.com/users/zacps/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-19T04:24:32Z", "updated_at": "2018-10-19T04:24:32Z", "author_association": "NONE", "body": "@ehuss Right, that makes sense. Is there any reason this shouldn't work?\r\n\r\nI found this confusing because another local dependency in the project I'm working on runs fine like this (it doesn't have dev-dependencies).\r\n\r\nAt the very least it'd be great if there was a more helpful error message."}, {"url": "https://api.github.com/repos/rust-lang/cargo/issues/comments/431242856", "html_url": "https://github.com/rust-lang/cargo/issues/6183#issuecomment-431242856", "issue_url": "https://api.github.com/repos/rust-lang/cargo/issues/6183", "id": 431242856, "node_id": "MDEyOklzc3VlQ29tbWVudDQzMTI0Mjg1Ng==", "user": {"login": "ehuss", "id": 43198, "node_id": "MDQ6VXNlcjQzMTk4", "avatar_url": "https://avatars0.githubusercontent.com/u/43198?v=4", "gravatar_id": "", "url": "https://api.github.com/users/ehuss", "html_url": "https://github.com/ehuss", "followers_url": "https://api.github.com/users/ehuss/followers", "following_url": "https://api.github.com/users/ehuss/following{/other_user}", "gists_url": "https://api.github.com/users/ehuss/gists{/gist_id}", "starred_url": "https://api.github.com/users/ehuss/starred{/owner}{/repo}", "subscriptions_url": "https://api.github.com/users/ehuss/subscriptions", "organizations_url": "https://api.github.com/users/ehuss/orgs", "repos_url": "https://api.github.com/users/ehuss/repos", "events_url": "https://api.github.com/users/ehuss/events{/privacy}", "received_events_url": "https://api.github.com/users/ehuss/received_events", "type": "User", "site_admin": false}, "created_at": "2018-10-19T04:40:31Z", "updated_at": "2018-10-19T04:40:31Z", "author_association": "CONTRIBUTOR", "body": "I believe it doesn't work because dev-dependencies of downstream dependencies are not included in your local `Cargo.lock` so those dev-dependencies don't exist as far as cargo is concerned.\r\n\r\nI definitely agree on having a better error message.  I'll try to add that soon."}]